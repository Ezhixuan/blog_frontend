@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * 主题变量配置 - 亮色模式
 * 这些变量使用HSL格式，方便调整透明度
 */
:root {
  --background: 210 20% 98%;
  --foreground: 210 40% 2%;
  
  --card: 0 0% 100%;
  --card-foreground: 210 40% 2%;
  
  --popover: 0 0% 100%;
  --popover-foreground: 210 40% 2%;
  
  --primary: 221 83% 40%;
  --primary-foreground: 0 0% 100%;
  
  --secondary: 214 100% 67%;
  --secondary-foreground: 0 0% 100%;
  
  --muted: 210 20% 96%;
  --muted-foreground: 210 20% 60%;
  
  --accent: 214 93% 95%;
  --accent-foreground: 221 83% 40%;
  
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  
  --border: 210 20% 88%;
  --input: 210 20% 88%;
  --ring: 214 100% 67%;
  
  --radius: 0.5rem;
}

/* 
 * 主题变量配置 - 暗色模式
 * 确保颜色对比度足够，提高可读性
 */
.dark {
  --background: 210 40% 8%;
  --foreground: 210 20% 98%;
  
  --card: 210 40% 10%;
  --card-foreground: 210 20% 98%;
  
  --popover: 210 40% 10%;
  --popover-foreground: 210 20% 98%;
  
  --primary: 221 83% 65%;
  --primary-foreground: 0 0% 100%;
  
  --secondary: 214 100% 67%;
  --secondary-foreground: 0 0% 100%;
  
  --muted: 210 40% 16%;
  --muted-foreground: 210 20% 60%;
  
  --accent: 214 93% 15%;
  --accent-foreground: 221 83% 65%;
  
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  
  --border: 210 40% 18%;  /* 暗色模式边框颜色 - 调整此处可以改变所有暗色模式边框 */
  --input: 210 40% 18%;
  --ring: 214 100% 67%;
}

@layer base {
  body {
    @apply bg-background text-foreground;
  }
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: var(--background-white);
  color: #334155;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

.blog-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.nav-link {
  @apply text-gray-600 hover:text-blue-600 transition-colors duration-200;
}

.blog-card {
  @apply bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200;
}

/* Ant Design Vue 暗色模式样式 */

/* Select 选择器暗色模式样式 */
.dark .ant-select:not(.ant-select-customize-input) .ant-select-selector {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
  color: hsl(var(--card-foreground));
}

.dark .ant-select-dropdown {
  background-color: hsl(var(--card));
  border-color: hsl(var(--border));
}

.dark .ant-select-item {
  color: hsl(var(--card-foreground));
}

.dark .ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
  background-color: hsl(var(--primary) / 30%);
}

.dark .ant-select-item-option-active:not(.ant-select-item-option-disabled) {
  background-color: hsl(var(--muted));
}

.dark .ant-select-selection-placeholder {
  color: hsl(var(--muted-foreground));
}

.dark .ant-select-arrow {
  color: hsl(var(--muted-foreground));
}

.dark .ant-select-clear {
  background-color: hsl(var(--card));
  color: hsl(var(--muted-foreground));
}

.dark .ant-select-selection-item {
  color: hsl(var(--card-foreground));
}

/* 多选模式下的标签样式 */
.dark .ant-select-selection-item-content {
  color: hsl(var(--card-foreground));
}

.dark .ant-select-multiple .ant-select-selection-item {
  background-color: hsl(var(--muted));
  border-color: hsl(var(--border));
}

/* 搜索输入框样式 */
.dark .ant-select-selection-search-input {
  color: hsl(var(--card-foreground));
}

/* 下拉菜单没有内容时的样式 */
.dark .ant-empty-description {
  color: hsl(var(--muted-foreground));
}

/* 滚动条相关样式 */
.dark .scrollbar_wrap,
.dark .scrollbar_view {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
}

/* 滚动条样式 */
.dark .scrollbar_bar {
  background-color: hsla(var(--muted) / 0.4) !important;
}

.dark .scrollbar_bar.is-horizontal,
.dark .scrollbar_bar.is-vertical {
  background-color: hsla(var(--muted) / 0.4) !important;
}

.dark div[class*="scrollbar"] {
  background-color: hsl(var(--card)) !important;
}

.dark div[class="scroller"] {
  background-color: hsl(var(--card)) !important;
}

.dark div[class="scroller__wrap"] {
  background-color: hsl(var(--card)) !important;
}

.dark div[class="scroller__view"] {
  background-color: hsl(var(--card)) !important;
}

.dark [class*="scroller"] {
  background-color: hsl(var(--card)) !important;
}

/* 针对截图中具体显示的类名 */
.dark .scrollbar__wrap {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
}

.dark .scrollbar__view {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
}

/* 文章详情页的暗色模式样式 */
.dark .article-content {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
  border-radius: 8px;
  padding: 1.5rem;
}

.dark .article-content h1,
.dark .article-content h2,
.dark .article-content h3,
.dark .article-content h4,
.dark .article-content h5,
.dark .article-content h6 {
  color: hsl(var(--card-foreground)) !important;
  border-bottom-color: hsl(var(--border)) !important;
}

.dark .article-content h1,
.dark .article-content h2 {
  border-bottom: 1px solid hsl(var(--border));
  padding-bottom: 0.25em;
  margin-bottom: 1em;
}

.dark .article-content blockquote {
  border-left: 4px solid hsl(var(--primary));
  padding: 0.5em 1em;
  background-color: hsla(var(--muted) / 0.7);
  border-radius: 4px;
  margin: 1.5em 0;
}

.dark .article-content code:not(.hljs) {
  background-color: hsla(var(--muted) / 0.6);
  color: hsl(var(--primary));
  border-radius: 4px;
  padding: 2px 4px;
}

.dark .article-content pre {
  background-color: hsl(var(--muted));
  border-radius: 6px;
  padding: 1em;
  overflow-x: auto;
}

.dark .article-content a {
  color: hsl(var(--primary));
  text-decoration: none;
}

.dark .article-content a:hover {
  text-decoration: underline;
}

.dark .article-content hr {
  border-color: hsl(var(--border));
  opacity: 0.5;
  margin: 2em 0;
}

.dark .article-content table {
  border-collapse: collapse;
  width: 100%;
  margin: 1.5em 0;
}

.dark .article-content table th {
  background-color: hsl(var(--muted));
  border: 1px solid hsl(var(--border));
  padding: 0.75em;
  text-align: left;
}

.dark .article-content table td {
  border: 1px solid hsl(var(--border));
  padding: 0.75em;
}

/* 自定义滚动条样式
 * 隐藏默认滚动条但保留滚动功能
 */
/* Chrome, Safari, Edge 和 Opera 浏览器 */
::-webkit-scrollbar {
  width: 0; /* 设置宽度为0实现滚动条隐藏 */
  background: transparent; /* 透明背景 */
}

/* Firefox 浏览器 */
* {
  scrollbar-width: none; /* 隐藏滚动条 */
}

/* IE 10+ */
* {
  -ms-overflow-style: none; /* 隐藏滚动条 */
}

/* 
 * 文章详情页的Markdown渲染组件暗色模式样式
 * 这些样式会在主题切换时应用
 */
.dark .article-markdown {
  color: hsl(var(--card-foreground)) !important;
}

.dark .article-markdown .v-md-editor {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

.dark .article-markdown img {
  filter: brightness(0.8) contrast(1.2);
}

.dark .article-markdown .github-markdown-body {
  background-color: transparent !important;
  color: hsl(var(--card-foreground)) !important;
}

.dark .article-markdown pre {
  background-color: hsl(var(--muted)) !important;
}

.dark .article-markdown code {
  background-color: hsla(var(--muted) / 0.6) !important;
  color: hsl(var(--primary)) !important;
}

.dark .article-markdown blockquote {
  background-color: hsla(var(--muted) / 0.7) !important;
  border-left-color: hsl(var(--primary)) !important;
  color: hsl(var(--card-foreground)) !important;
}

.dark .article-markdown a {
  color: hsl(var(--primary)) !important;
}

.dark .article-markdown hr {
  border-color: hsl(var(--border)) !important;
}

.dark .article-markdown table th {
  background-color: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

.dark .article-markdown table td {
  border-color: hsl(var(--border)) !important;
}

/* 
 * 确保code标签中的代码高亮正确显示
 */
.dark .article-markdown .hljs {
  background-color: hsl(var(--muted)) !important;
}

/* 
 * 修复暗色模式切换中的过渡效果
 */
.article-markdown, 
.article-markdown .v-md-editor,
.article-markdown .github-markdown-body {
  transition: background-color 0.3s, color 0.3s, border-color 0.3s;
}

/* 
 * 针对代码块的暗色模式专用类
 * 确保代码块在主题切换后保持正确的样式
 */
.dark-code {
  background-color: hsl(var(--muted)) !important;
  color: hsl(var(--card-foreground)) !important;
}

.dark-code .hljs {
  background-color: hsl(var(--muted)) !important;
}

.dark-code .token.comment,
.dark-code .token.prolog,
.dark-code .token.doctype,
.dark-code .token.cdata {
  color: #8292a2 !important; 
}

.dark-code .token.punctuation {
  color: #f8f8f2 !important; 
}

.dark-code .token.property,
.dark-code .token.tag,
.dark-code .token.constant,
.dark-code .token.symbol,
.dark-code .token.deleted {
  color: #f92672 !important; 
}

.dark-code .token.boolean,
.dark-code .token.number {
  color: #ae81ff !important; 
}

.dark-code .token.selector,
.dark-code .token.attr-name,
.dark-code .token.string,
.dark-code .token.char,
.dark-code .token.builtin,
.dark-code .token.inserted {
  color: #a6e22e !important; 
}

.dark-code .token.keyword {
  color: #66d9ef !important; 
}

.dark-code .token.function,
.dark-code .token.class-name {
  color: #e6db74 !important; 
}